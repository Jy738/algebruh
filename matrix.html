<!DOCTYPE html>
<html>
<head>
    <!-- vibe coded cus time consuming educational 9 to 5-->
    <style>
        body {
            font-family:Garamond,serif;
            background-color:beige;
            padding: 20px;
        }
        .mat {
            display:flex;
            flex-direction:row;
            gap:4px;
        }
        .mat_in {
            display:flex;
            flex-direction:column;
            gap:8px;
        }
        .mat_row {
            display:flex;
            flex-direction:row;
            gap:8px;
        }
        .mat_item {
            display:flex;
            width: 25px;
            height: 25px;
            justify-content: center;
            align-items: center;
        }
        .brack {
            font-size:35px;
            margin-top:0px;
        }
        .equate {
            display:flex;
            flex-direction:row;
            gap:20px;
            align-items: center;
            margin-bottom: 20px;
        }
        input {
            width: 25px;
            height: 25px;
            text-align: center;
            border: none;
            background-color: rgba(255, 255, 255, 0.5);
            font-family: Garamond, serif;
            font-size: 16px;
        }
        input:focus {
            outline: 1px solid #aaa;
        }
        button {
            margin-top: 20px;
            padding: 8px 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: Garamond, serif;
        }
        button:hover {
            background-color: #45a049;
        }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
        .progress {
            margin-top: 20px;
            font-size: 18px;
        }
        h3 {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h3>Matrix Practice</h3>
    <p>Solve the matrix problem below. Enter the correct values in the result matrix.</p>
    <hr>
    <div class="progress">Problem <span id="currentProblem">1</span> of 3</div>
    <div class="equate" id="problem">
        <!-- Problem will be inserted here -->
    </div>
    <div class="feedback" id="feedback"></div>
    <button id="checkButton">Check Answer</button>
    <button id="nextButton" style="display: none;">Next Problem</button>

    <script>
        // Track current problem and total problems
        let currentProblem = 0;
        const totalProblems = 3;
        let problems = [];
        let currentAnswer = [];
        
        // Generate a random number from 1 to 6
        function getRandomNumber() {
            return Math.floor(Math.random() * 6) + 1;
        }
        
        // Generate a problem type (addition or subtraction)
        function getRandomProblemType() {
            return Math.random() > 0.5 ? '+' : '-';
        }
        
        // Generate 3 random matrix problems
        function generateProblems() {
            const problems = [];
            
            for (let i = 0; i < totalProblems; i++) {
                const matrix1 = [
                    [getRandomNumber(), getRandomNumber()],
                    [getRandomNumber(), getRandomNumber()]
                ];
                
                const matrix2 = [
                    [getRandomNumber(), getRandomNumber()],
                    [getRandomNumber(), getRandomNumber()]
                ];
                
                const operator = getRandomProblemType();
                
                // Calculate the correct answer
                const answer = [
                    [0, 0],
                    [0, 0]
                ];
                
                for (let r = 0; r < 2; r++) {
                    for (let c = 0; c < 2; c++) {
                        if (operator === '+') {
                            answer[r][c] = matrix1[r][c] + matrix2[r][c];
                        } else {
                            answer[r][c] = matrix1[r][c] - matrix2[r][c];
                        }
                    }
                }
                
                problems.push({
                    matrix1: matrix1,
                    matrix2: matrix2,
                    operator: operator,
                    answer: answer
                });
            }
            
            return problems;
        }
        
        // Create HTML for a matrix
        function createMatrixHTML(matrix, isAnswer = false) {
            let html = `
                <div class="mat">
                    <p class="brack">[</p>
                    <div class="mat_in">
            `;
            
            for (let r = 0; r < 2; r++) {
                html += '<div class="mat_row">';
                for (let c = 0; c < 2; c++) {
                    if (isAnswer) {
                        html += `<div class="mat_item"><input type="text" id="answer_${r}_${c}" maxlength="2"/></div>`;
                    } else {
                        html += `<div class="mat_item">${matrix[r][c]}</div>`;
                    }
                }
                html += '</div>';
            }
            
            html += `
                    </div>
                    <p class="brack">]</p>
                </div>
            `;
            
            return html;
        }
        
        // Display current problem
        function displayProblem() {
            const problem = problems[currentProblem];
            const problemContainer = document.getElementById('problem');
            
            let html = '';
            html += createMatrixHTML(problem.matrix1);
            html += `<p>${problem.operator}</p>`;
            html += createMatrixHTML(problem.matrix2);
            html += '<p>=</p>';
            html += createMatrixHTML(null, true);
            
            problemContainer.innerHTML = html;
            
            document.getElementById('currentProblem').textContent = currentProblem + 1;
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
        }
        
        // Check the user's answer
        function checkAnswer() {
            const problem = problems[currentProblem];
            const userAnswer = [
                [
                    parseInt(document.getElementById('answer_0_0').value) || 0,
                    parseInt(document.getElementById('answer_0_1').value) || 0
                ],
                [
                    parseInt(document.getElementById('answer_1_0').value) || 0,
                    parseInt(document.getElementById('answer_1_1').value) || 0
                ]
            ];
            
            // Check if the answer is correct
            let isCorrect = true;
            for (let r = 0; r < 2; r++) {
                for (let c = 0; c < 2; c++) {
                    if (userAnswer[r][c] !== problem.answer[r][c]) {
                        isCorrect = false;
                        break;
                    }
                }
                if (!isCorrect) break;
            }
            
            const feedback = document.getElementById('feedback');
            if (isCorrect) {
                feedback.textContent = 'Correct! Great job!';
                feedback.className = 'feedback correct';
                
                // Show next button if not the last problem
                if (currentProblem < totalProblems - 1) {
                    document.getElementById('nextButton').style.display = 'inline-block';
                    document.getElementById('checkButton').style.display = 'none';
                } else {
                    feedback.textContent = 'Congratulations! You completed all problems!';
                    document.getElementById('checkButton').style.display = 'none';
                }
            } else {
                feedback.textContent = 'Not quite right. Try again!';
                feedback.className = 'feedback incorrect';
            }
        }
        
        // Go to next problem
        function nextProblem() {
            currentProblem++;
            displayProblem();
            
            document.getElementById('nextButton').style.display = 'none';
            document.getElementById('checkButton').style.display = 'inline-block';
        }
        
        // Initialize problems
        function init() {
            problems = generateProblems();
            displayProblem();
            
            document.getElementById('checkButton').addEventListener('click', checkAnswer);
            document.getElementById('nextButton').addEventListener('click', nextProblem);
        }
        
        // Start the application
        window.onload = init;
    </script>
</body>
</html>
